# @package _global_

defaults:
  - /modules/encoders@task.encoders.text: HFCLIPTextEncoderWithProjection
  - /modules/encoders@task.encoders.rgb: HFCLIPVisionEncoderWithProjection
  - /eval_task@task.evaluation_tasks.classification.task: ZeroShotClassification
  - /datasets/tokenizers@task.evaluation_tasks.classification.task.tokenizer: HFCLIPTokenizer
  - /trainer/logger@trainer.logger.wandb: WandbLogger
  - override /task: ContrastivePretraining
  - _self_

seed: 0
job_type: eval

dataloader:
  test:
    batch_size: 32
    num_workers: 2

task:
  evaluation_tasks:
    classification:
      task:
        task_specs:
          - top_k: [1]
            query_modality: rgb
      run_on_validation: false
      run_on_test: true
  compute_validation_loss: False
  compute_test_loss: False

trainer:
  precision: 16-mixed
  deterministic: False
  benchmark: True
  sync_batchnorm: False # set to True if using DDP with batchnorm
  log_every_n_steps: 100

tags:
  - ${experiment_name}
  - zeroshot
  - classification
